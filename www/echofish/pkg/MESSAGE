$OpenBSD$

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

To enable echofish, please create a symbolic link:

ln -sf ../echofish/htdocs \
	/var/www/htdocs/echofish

Echofish requires MariaDB database with the builtin scheduler enabled,
so add the following in the [mysqld] section of /etc/my.cnf file:

event_scheduler=ON

Furthemore, note that the BLACKHOLE, INNODB and MEMORY engines must be enabled.
To enable BLACKHOLE:

echo "INSTALL PLUGIN BLACKHOLE SONAME 'ha_blackhole.so';" | mysql

In mysql, assuming you're connected as admin, run (at least changing 'dbpass'):

CREATE USER 'echofish'@'127.0.0.1' IDENTIFIED BY 'dbpass';
CREATE DATABASE ETS_echofish CHARACTER SET utf8 COLLATE utf8_unicode_ci;
GRANT ALL PRIVILEGES ON ETS_echofish.* TO 'echofish'@'127.0.0.1';
FLUSH PRIVILEGES;

Make sure you edit /var/www/echofish/htdocs/protected/db.php and set database
name, host and credentials to your values.

Next, configure httpd for php-fpm and echofish in /etc/httpd.conf, e.g.:

    server "default" {
        listen on * port 80
        location "*.php" { 
                fastcgi socket "/run/php-fpm.sock" 
        } 
        location "/echofish/*" { 
                directory index index.php 
        } 
    }

With the required services (mysqld, php56_fpm, httpd) running, access the uri:

http://localhost/echofish

For a syslog concentrator setup, forwarding logs to echofish database, check
the guides for syslog_ng and rsyslog in /var/www/echofish/contrib directory.
